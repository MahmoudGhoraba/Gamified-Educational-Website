@{
    ViewData["Title"] = "Delete Profile";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delete Profile</title>
    <script>
        async function deleteProfile(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const response = await fetch(form.action, {
                method: form.method,
                body: formData
            });
            const result = await response.json();
            alert(result.message);
        }

        async function deleteInstructorAccount(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const response = await fetch(form.action, {
                method: form.method,
                body: formData
            });
            const result = await response.json();
            alert(result.message);
        }

        async function deleteLearnerAccount(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const response = await fetch(form.action, {
                method: form.method,
                body: formData
            });
            const result = await response.json();
            alert(result.message);
        }
    </script>
</head>
<body>
    <h1>Delete Profile</h1>

    <form asp-controller="Admin" asp-action="Delete" method="post" onsubmit="deleteProfile(event)">
        <label for="learnerId">Learner ID:</label>
        <input type="text" id="learnerId" name="learnerId" required />
        <label for="deleteId">Profile ID to Delete:</label>
        <input type="text" id="deleteId" name="id" required />
        <button type="submit">Delete Profile</button>
    </form>

    <h1>Delete Instructor Account</h1>

    <form asp-controller="Admin" asp-action="DeleteInstructorAccount" method="post" onsubmit="deleteInstructorAccount(event)">
        <label for="instructorId">Instructor ID:</label>
        <input type="text" id="instructorId" name="instructorId" required />
        <button type="submit">Delete Instructor Account</button>
    </form>

    <h1>Delete Learner Account</h1>

    <form asp-controller="Admin" asp-action="DeleteLearnerAccount" method="post" onsubmit="deleteLearnerAccount(event)">
        <label for="learnerAccountId">Learner ID:</label>
        <input type="text" id="learnerAccountId" name="learnerAccountId" required />
        <button type="submit">Delete Learner Account</button>
    </form>

    @if (ViewBag.ErrorMessage != null)
    {
        <div class="error-message">
            <p>@ViewBag.ErrorMessage</p>
        </div>
    }
</body>
</html>
